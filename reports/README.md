# Reports

Reports are files generated by the `fit-simulated-measurements.py` script. They contain the 
average fitted concentration and its standard deviation for the fittings performed on a set of
simulated measurements for different configurations of the dual comb, varying the number of teeth
and the tooth spacing. Here are the parameters used to generate some of these reports:

**`report-exploratory-simulations-10-per-conf.csv`**

These were a set of simulations performed for the 3427.4 nm methane (CH4) line, at 298 K, 
and 53328.95 Pa (400 Torr), with a volume mixing ratio of 0.01. The parameters used were:

```python
# Define the parameters for simulating the measurement.

molecule = 'CH4'
database = 'hitran'

vmr = 0.01  # volume mixing ratio
pressure = 53328.94736842  # Pa
temperature = 298  # K
length = 0.055  # m
laser_wavelength = 3427.41  # nm

wl_min = 3427.0  # nm
wl_max = 3427.9  # nm
min_comb_span = 0.15  # nm

std_dev = 0.014  # unitless
number_of_teeth_for_std_dev = None  # teeth
x_shift_std_dev = 0.02  # nm
scaling_std_dev = 1  # unitless
laser_wavelength_std_dev = 0.01  # nm

n_simulations_per_config = 10
comb_spacings = [(i+1)*100e6 for i in range(30)] * 26 # Hz
numbers_of_teeth = [i for i in range(5, 31) for _ in range(30)] # teeth

# Define the fitting parameters.

normalize = True
initial_guess = 0.5
fitter = 'normal'
```

**`report-exploratory-simulations-100-per-conf.csv`**

These were a set of simulations performed for the 3427.4 nm methane (CH4) line, at 298 K, 
and 53328.95 Pa (400 Torr), with a volume mixing ratio of 0.01. The configurations simulated
were the ones that gave the best fitting results in `report-exploratory-simulations-10-per-conf.csv`.
The parameters used were:

```python
# Define the parameters for simulating the measurement.

molecule = 'CH4'
database = 'hitran'

vmr = 0.01  # volume mixing ratio
pressure = 53328.94736842  # Pa
temperature = 298  # K
length = 0.055  # m
laser_wavelength = 3427.41  # nm

wl_min = 3427.0  # nm
wl_max = 3427.9  # nm
min_comb_span = 0.15  # nm

std_dev = 0.014  # unitless
number_of_teeth_for_std_dev = None  # teeth
x_shift_std_dev = 0.02  # nm
scaling_std_dev = 1  # unitless
laser_wavelength_std_dev = 0.01  # nm

n_simulations_per_config = 100

comb_spacings = [
    2.8, 2.9, 3.0, 2.4, 2.5, 2.6, 2.7, 2.8, 2.9, 3.0,
    1.4, 1.5, 1.6, 1.7, 1.8, 1.9, 2.0, 2.1, 2.2, 2.3,
    2.4, 2.5, 2.6, 2.7, 1.4, 1.5, 1.6, 1.7, 1.8, 1.9,
    2.0, 2.1, 2.2, 2.3, 2.4, 2.5, 2.6, 1.2, 1.3, 1.4,
    1.5, 1.6, 1.7, 1.8, 1.9, 2.0, 2.1, 2.2, 2.3, 2.4,
    2.5, 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8, 1.9,
    2.0, 2.1, 2.2, 2.3, 2.4, 1.0, 1.1, 1.2, 1.3, 1.4,
    1.5, 1.6, 1.7, 1.8, 1.9, 2.0, 2.1, 2.2, 0.8, 0.9,
    1.0, 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8, 1.9,
    0.8, 0.9, 1.0, 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7,
    1.8, 0.7, 0.8, 0.9, 1.0, 1.1, 1.2, 1.3, 1.4, 1.5,
    1.6, 0.6, 0.7, 0.8, 0.9, 1.0, 1.1, 1.2, 1.3, 1.4,
    1.5, 0.6, 0.7, 0.8, 0.9, 1.0, 1.1, 1.2, 1.3, 1.4,
    0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 1.1, 1.2, 1.3, 0.5,
    0.6, 0.7, 0.8, 0.9, 1.0, 1.1, 1.2, 0.5, 0.6, 0.7,
    0.8, 0.9, 1.0, 1.1, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9,
    1.0, 1.1, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0, 0.4,
    0.5, 0.6, 0.7, 0.8, 0.9, 0.4, 0.5, 0.6, 0.7, 0.8,
    0.9, 0.4, 0.5, 0.6, 0.7, 0.8, 0.4, 0.5, 0.6, 0.7,
    0.8, 0.4, 0.5, 0.6, 0.7, 0.8, 0.3, 0.4, 0.5, 0.6,
    0.7, 0.3, 0.4, 0.5, 0.6, 0.7, 0.3, 0.4, 0.5, 0.6,
    0.7, 0.3, 0.4, 0.5, 0.6
]  # GHz
comb_spacings = [s*1e9 for s in comb_spacings]  # convert to Hz

numbers_of_teeth = [
    5, 5, 5, 6, 6, 6, 6, 6, 6, 6,
    7, 7, 7, 7, 7, 7, 7, 7, 7, 7,
    7, 7, 7, 7, 8, 8, 8, 8, 8, 8,
    8, 8, 8, 8, 8, 8, 8, 9, 9, 9,
    9, 9, 9, 9, 9, 9, 9, 9, 9, 9,
    9, 10, 10, 10, 10, 10, 10, 10, 10, 10,
    10, 10, 10, 10, 10, 11, 11, 11, 11, 11,
    11, 11, 11, 11, 11, 11, 11, 11, 12, 12,
    12, 12, 12, 12, 12, 12, 12, 12, 12, 12,
    13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
    13, 14, 14, 14, 14, 14, 14, 14, 14, 14,
    14, 15, 15, 15, 15, 15, 15, 15, 15, 15,
    15, 16, 16, 16, 16, 16, 16, 16, 16, 16,
    17, 17, 17, 17, 17, 17, 17, 17, 17, 18,
    18, 18, 18, 18, 18, 18, 18, 19, 19, 19,
    19, 19, 19, 19, 20, 20, 20, 20, 20, 20,
    20, 20, 21, 21, 21, 21, 21, 21, 21, 22,
    22, 22, 22, 22, 22, 23, 23, 23, 23, 23,
    23, 24, 24, 24, 24, 24, 25, 25, 25, 25,
    25, 26, 26, 26, 26, 26, 27, 27, 27, 27,
    27, 28, 28, 28, 28, 28, 29, 29, 29, 29,
    29, 30, 30, 30, 30
]  # teeth

# Define the fitting parameters.

normalize = True
initial_guess = 0.5
fitter = 'interp'
```

**`report-10-per-conf.csv`**

These were a set of simulations performed for the 3427.4 nm methane (CH4) line, at 298 K, 
and 53328.95 Pa (400 Torr), with a volume mixing ratio of 0.01. These simulations take
into account that the SNR varies with the number of teeth. The parameters used were:

```python
# Define the parameters for simulating the measurement.

molecule = 'CH4'
database = 'hitran'

vmr = 0.01  # volume mixing ratio
pressure = 53328.94736842  # Pa
temperature = 298  # K
length = 0.055  # m
laser_wavelength = 3427.41  # nm

wl_min = 3427.0  # nm
wl_max = 3427.9  # nm
min_comb_span = 0.15  # nm

std_dev = 0.014  # unitless
number_of_teeth_for_std_dev = None  # teeth
x_shift_std_dev = 0.02  # nm
scaling_std_dev = 1  # unitless
laser_wavelength_std_dev = 0.01  # nm

n_simulations_per_config = 10
comb_spacings = [(i+1)*100e6 for i in range(30)] * 26 # Hz
numbers_of_teeth = [i for i in range(5, 31) for _ in range(30)] # teeth

# Define the fitting parameters.

normalize = True
initial_guess = 0.001
fitter = 'normal_gpu'
```